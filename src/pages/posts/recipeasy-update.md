---
title: Recipeasy update!
date: '2020-10-18'
thumb_img_path: /images/recipeasy-tomato.png
excerpt: An update on my personal project.
template: post
subtitle: I've migrated from Azure to Netlify and Heroku.
content_img_path: /images/recipeasy-screenshot.png
---

Originally, when I set out to do my [Recipeasy](https://silly-mahavira-4f9bf8.netlify.app/) personal project, I settled on using Azure as my cloud-hosting provider. I am a .NET developer by trade so it made sense for me to do the backend in .NET Core and I knew Azure would have good support for this since they're both Microsoft technologies. There was a steep learning curve but it was no different from AWS in that regard, which is what I used in my then job. It took me a while but I got the site (frontend, backend and database) set up in Azure and never thought anything more about it.

#### Frontend

That was until earlier this year when I decided to try using [Netlify](https://www.netlify.com/). I deployed a small site that was auto-generated by [create-nuxt-app](https://github.com/nuxt/create-nuxt-app) and the process was as simple as connecting my GitHub and pointing Netlify to the right repository. In less than a minute, my Nuxt site was deployed and on the world wide web! What was also awesome is that as soon as a commit is pushed to the master branch, it would rebuild and deploy automatically. I did have a similar CI/CD pipeline set up in Azure DevOps for both my front and backend but it took a lot of research and experimentation to get it working properly.

### Backend

Long story short, I was very impressed with Netlify. However, there is a downside - you can't use it to host backend or database services. I had heard good things about another cloud provider: [Heroku](https://www.heroku.com/). Disappointingly, they don't mention C# on their site as a supported language but as it turns out, their service revolves around containers so it was as simple as adding a [Dockerfile](https://github.com/aellwood/recipeasy-api/blob/master/Dockerfile) to my .NET Core repo as well as a [yml file](https://github.com/aellwood/recipeasy-api/blob/master/.github/workflows/main.yml) to configure a GitHub Action for the build/deployment process. The final thing necessary was to add my Heroku Api Key to the secrets section of my API repository. *Et voil√†!* CI/CD deployment pipeline for Heroku. This was again *much* simpler than using Azure.

### Database

The final piece of the puzzle was my database. In Azure, I'd been using Azure Storage Tables in an Azure Storage Blob. It was NoSQL and I used it because it was cheap. It has been superseded by something new (and much more expensive) now and is no longer officially supported. Thankfully, Heroku supports the addition of a PostgreSQL database add-ons to apps. This required a significant rework to my source code as my existing implementation was quite heavily coupled to the aforementioned NoSQL Azure database. Thankfully, Entity Framework Core made this process relatively straightforward and I was actually able to remove a significant amount of code and complexity in making this change.

### Conclusion

It's worth pointing out that my usage of Netlify/Heroku as outlined here is completely free and doesn't require you to input card details - winner! I'd only ever been charged a few pence on Azure but to get a SQL database it'd have been a few pounds a month and there always felt like a risk as there's no set cost that some bot could find my site and spam it with requests and then I'd end up with a large bill.